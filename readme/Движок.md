
![[движок_хранилище.png]]
### Движок игры

#game_engine
Игрок/админ посылает запрос, через #api игровому движку, на проведение того или иного действия(получение эффекта, выбор испытания и т.д.). Движок делает запрос к базе данных с правилами в которых описаны все возможные взаимодействия, и генерирует ответ игроку по определенному алгоритму. В зависимости от типа взаимодействия, движок выбирает алгоритм, будь то бросок кубика/монетки или выпадение предмета и многое другое. К движку подключается языковая модель. На каждого игрока выделяется свой процесс. Доступ к движку асинхронный.

### Эффекты

#effects - эффекты могут быть наложены:
 - предметами 
 - другими игроками
 - ловушками
 - биомами
 
 Делятся на категории и виды. 
 
 Категории эффектов по тому от чего могут быть наложены:
 - глобальные(с карты, от ивента)
 - локальные(от игрока, клетки)
 - мгновенные
 - отложенные
 - с продолжительным действием
 - отменяющие действие других эффектов
 
 Виды эффектов делятся по типу:
 - накладываемые в результате действия игрока на карте
	 - биомы накладывают эффекты в зависимости от принадлежности(яды - болото, вода - водопады и реки, холод - снег, зима и т.д)
	 - если игрок наступил на клетку с ловушкой и она активировала тот или иной эффект
	 - использование предмета на себя самого с определенным эффектом
 - накладываемые в результате взаимодействия игроков между собой
	 - использование предмета на игрока с эффектом

На каждом эффекте есть дополнительные опции. В опциях есть диапазон чисел.
При выпадении эффекта числа из опций случайным образом прибавляются к параметрам эффекта.

#effects
Эффекты имеют положительные и отрицательные свойства. Могут быть наложены на персонажа игрока или персонажа соперника. Эффекты могут быть получены в результате перемещения по карте или от применения предметов. Могут быть получены от ловушек.
### Предметы

#items #artifact - предметы добываются
- при активации участков карты. 
- При рандомизации игроком. 
- Некоторые предметы передаются, могут быть украдены, имеют массовое или индивидуальное действие на других игроков.
- Предметы хранятся в инвентаре игрока. 
- Могут быть самоуничтожены если не имеют защиты. 
- Предметы могут навешивать #effects эффекты.
- могут быть надеты на игрока
- могут быть выброшены, уничтожены, проданы

Предметы делятся по категориям в зависимости от того где могут быть получены, и какие свойства несут. Например ядовитая шпага может быть получена с высокой вероятностью в области болота, и может иметь в параметрах свойства связанные с ядом. Также эта шпага может, при применении на соперника, накладывать яд. 
Предметы могут иметь свойства, параметры, отрицательные и положительные эффекты. 

На каждом предмете есть дополнительные опции. В опциях есть диапазон чисел.
При выпадении предмета, числа из опций, случайным образом прибавляются к параметрам предмета т.е. есть у предметов есть статичные числовые параметры и те которые рандомятся при выпадении.
#items
Предметы могут быть получены путем перемещения по карте. Украдены у других игроков. Из сундуков в процессе рандомизации движком игры или после прохождения испытаний. Предметы могут накладывать эффекты или иметь прямое взаимодействие(например толчок игрока на шаг назад или вперед).
>
	Эффекты и предметы связаны с магическими элементами и физическими свойствами.
	Эффекты имеют 1 и более свойств.
	Эффекты могут накладывать природные зоны, клетки, ловушки, предметы. Эффекты отображаются в инвентаре, там же находятся и предметы.
	Предметы покупаются в магазинах, добываются в испытаниях, получаются случайным образом.
	Предметы могут накладывать эффекты, использоваться на себя и других игроков.
	Ресурсы отображаются в инвентаре. Являются валютой в игре.
	Добываются ресурсы на карте, в испытаниях.

### Элемент природной зоны

Существует несколько видов стихий. К ним могут быть привязаны разного рода эффекты. т.е. существует несколько стихий вода, огонь, электричество и т.д. К зоне может быть привязано несколько стихий/элементов.

### Ивенты

#events
Ивент имеет тип, класс.
Может быть локальным, индивидуальным, массовым, с привязкой к времени(например к дате или к промежутку в неделю, день...)

### Кубики

#cubes - кубиков много. Отличия в гранях - от трех до 20.
Нужно написать программу которая рандомизирует результат броска кубиков. Можно на вход принимать разное число кубов, а на выходе получать сумму выпавших значиний на гранях.

### Аватарки игроков

#ava

### Монетка

Монетка имеет два варианта - орел или решка. Бросок представляет из себя генератор выборки из двух вариантов.

### Испытания

Испытания могут быть индивидуальными и массовыми

### Ресурсы игрока

#resource - ресурсы игрока. То что игрок может тратить только на себя. Обменивать в магазине на товары
Ресурсы:
  - валюта(монеты) - обмен в магазине(возможно с игроками)
  - руда - добывается на карте и ивентах
Нужно придумать алгоритм получения ресурсов игроком.